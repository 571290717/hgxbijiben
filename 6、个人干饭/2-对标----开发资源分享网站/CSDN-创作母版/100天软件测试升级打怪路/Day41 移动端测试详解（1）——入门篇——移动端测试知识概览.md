# Day41 移动端测试详解（1）——入门篇——移动端测试知识概览

# 移动端测试知识概览

## 学习目标

- 了解移动端测试分类

### 1. 什么是移动端测试

移动端测试是指对移动应用进行的测试, 即实体的特性满足需求的程度

### 2. 移动端测试分类

#### 2.1 app功能测试

- 业务逻辑正确性测试

  ```
  1. 查看是否符合业务需求文档
  2. 是否满足隐性需求
  ```

- 兼容性测试

  ```
  1. 系统版本是否兼容: 
  	安卓
  	 	原生系统上下版本间是否兼容,例如安卓10.0的是否兼容9.0
  	 	二次开发的系统, 比如小米的MIUI系统间的兼容、华为的EMUI上下版本间兼容性是否良好
  	ios 版本间的兼容是否良好
  2. 分辨率是否兼容
  3. 网络情况
  		弱网测试、WIFI限速、更改网络app模式
  ```

  

- 异常测试

  ```
  1.热启动应用
    [1]app至于后台时是A页面,切换到前台,还是A页面,还是初始化页面
    [2]app长时间置于后台,切换到前台,还是A页面,还是初始化页面,崩溃/闪退
  
  2.网络切换和中断恢复
    [1]4g-2g wifi-4g,保证app可用,业务正常
    [2]wif-断网-wifi
       断点续传  下载应用5M 下载了3M断网,再次联网,继续当前位置下载
  
  3.电话和信息中断恢复
    [1]电话:看视频,打电话30分钟,切换为继续查看位置
    [2]短信:玩游戏  
  
  4.升级安装卸载测试
    [1]升级测试
       临近版本升级 1.0--->1.1--->1.2
       跨版本升级 1.0---->2.0
    [2]安装测试
       首次安装
       覆盖安装
            高版本--->低版本  成功
            低版本--->高版本  不允许   
       卸载后安装
    [3]卸载测试
       首次卸载
       卸载--->安装--->卸载 
  
  5.健壮性测试
    手机资源消耗
    流量消耗
    崩溃恢复等测试
  ```

#### 2.2 app自动化测试

```
通过场景和数据的预设，把以人为驱动的测试行为转化为机器执行的一种过程.

⚠ 注意: 并不是所有功能都能进行自动化.
```

#### 2.3 app安全测试

```
通过安全测试技术，保证app尽可能的不存在安全漏洞.
```

[更多移动测试参考:]()

- [移动测试的分类](<https://www.cnblogs.com/yl568/p/4107920.html>)







# 移动端app测试

 

对于手机项目（应用软件），主要是进行系统测试。

而针对手机应用软件的系统测试，我们通常从如下几个角度开展测试工作：

1. 功能模块测试；
2. 交叉事件测试；
3. 性能测试；
4. 安全测试；
5. 容量测试；
6. 兼容性测试；
7. 接口测试；
8. 易用性/用户体验测试；
9. 硬件环境测试
10. 安装/卸载测试；
11. 升级/更新测试；

1、功能模块测试：根据软件需求说明书或者用户需求验证app的各个功能是否实现，采用如下方法实现并评估功能测试过程：

- 采用时间、地点、对象、行为、和背景五元素或业务分析等方法、提炼app的用户使用场景，对比说明和需求，整理出内在，外在及非功能直接相关需求，构建测试点和用例，并明确测试标准，若用户需求中无明确标准遵循，则需要参考行业或相关国际标准或准则。
- 根据被测试功能点的特性列出相应类型的测试用例对其进行覆盖，如：涉及输入的地方需要考虑等价、边界、负面、异常或非法、场景回滚、关联测试等测试类型对其进行覆盖。
- 在测试实现的各个阶段跟踪测试实现与需求输入的覆盖情况，及时修正业务或需求理解错误地方。

运行

1）App安装完成后的试运行，可正常打开软件。

2）App打开测试，是否有加载状态进度提示。

3）App打开速度测试，速度是否可观。

4）App页面间的切换是否流畅，逻辑是否正确

5）注册

--同表单编辑页面
--用户名密码长度
--注册后的提示页面
--前台注册页面和后台的管理页面数据是否一致
--注册后，在后台管理中页面提示

6）登录

--使用合法的用户登录系统。
--系统是否允许多次非法的登陆，是否有次数限制。
--使用已经登陆的账号登陆系统是否正确处理。
--使用禁用的账号登陆系统是否正确处理。
--用户名、口令（密码）错误或漏填时能否登陆。
--删除或修改后的用户，原用户登陆。
--不输入用户口令和用户、重复点（确定或取消按钮）是否允许登陆。
--登陆后，页面中登陆信息。
--页面中有注销按钮。
--登陆超时的处理。

7）注销

--注销原模块，新的模块系统能否正确处理。
--终止注销能否返回原模块，原用户。
--注销原用户，新用户系统能否正确处理。
--使用错误的账号、口令、无权限的被禁用的账号进行注销

应用的前后台切换

\1) APP切换到后台，再回到app，检查是否停留在上一次操作界面。

\2) APP切换到后台，再回到app，检查功能及应用状态是否正常，IOS4和IOS5的版本的处理机制有的不一样。

\3) app切换到后台，再回到前台时，注意程序是否崩溃，功能状态是否正常，尤其是对于从后台切换回前台数据有自动更新的时候。

\4) 手机锁屏解屏后进入app注意是否会崩溃，功能状态是否正常，尤其是对于从后台切换回前台数据有自动更新的时候。

\5) 当App使用过程中有电话进来中断后再切换到app，功能状态是否正常

\6) 当杀掉app进程后，再开启app，app能否正常启动。

\7) 出现必须处理的提示框后，切换到后台，再切换回来，检查提示框是否还存在，有时候会出现应用自动跳过提示框的缺陷。

\8) 对于有数据交换的页面，每个页面都必需要进行前后台切换、锁屏的测试，这种页面最容易出现崩溃。

免登录

很多应用提供免登录功能，当应用开启时自动以上一次登录的用户身份来使用app.

\1) app有免登录功能时，需要考虑IOS版本差异。

\2) 考虑无网络情况时能否正常进入免登录状态。

\3) 切换用户登录后，要校验用户登录信息及数据内容是否相应更新，确保原用户退出。

\4) 根据MTOP的现有规则，一个帐户只允许登录一台机器。所以，需要检查一个帐户登录多台手机的情况。原手机里的用户需要被踢出，给出友好提示。

\5) app切换到后台，再切回前台的校验

\6) 切换到后台，再切换回前台的测试

\7) 密码更换后，检查有数据交换时是否进行了有效身份的校验

\8) 支持自动登录的应用在进行数据交换时，检查系统是否能自动登录成功并且数据操作无误。

\9) 检查用户主动退出登录后，下次启动app，应停留在登录界面

数据更新

根据应用的业务规则，以及数据更新量的情况，来确定最优的数据更新方案。

\1) 需要确定哪些地方需要提供手动刷新，哪些地方需要自动刷新，哪些地方需要手动+自动刷新。

\2) 确定哪些地方从后台切换回前台时需要进行数据更新。

\3) 根据业务、速度及流量的合理分配，确定哪些内容需要实时更新，哪些需要定时更新。

\4) 确定数据展示部分的处理逻辑，是每次从服务端请求，还是有缓存到本地，这样才能有针对性的进行相应测试。

\5) 检查有数据交换的地方，均有相应的异常处理。

 离线浏览

很多应用会支持离线浏览，即在本地客户端会缓存一部分数据供用户查看。

\1) 在无网络情况可以浏览本地数据

\2) 退出app再开启app时能正常浏览

\3) 切换到后台再切回前台可以正常浏览

\4) 锁屏后再解屏回到应用前台可以正常浏览

\5) 在对服务端的数据有更新时会给予离线的相应提示

 App更新

\1) 当客户端有新版本时，有更新提示。

\2) 当版本为非强制升级版时，用户可以取消更新，老版本能正常使用。用户在下次启动app时，仍能出现更新提示。

\3) 当版本为强制升级版时，当给出强制更新后用户没有做更新时，退出客户端。下次启动app时，仍出现强制升级提示。

\4) 当客户端有新版本时，在本地不删除客户端的情况下，直接更新检查是否能正常更新。

\5) 当客户端有新版本时，在本地不删除客户端的情况下，检查更新后的客户端功能是否是新版本。

\6) 当客户端有新版本时，在本地不删除客户端的情况下，检查资源同名文件如图片是否能正常更新成最新版本。如果以上无法更新成功的，也都属于缺陷。

定位、照相机服务

\1) App有用到相机，定位服务时，需要注意系统版本差异

\2) 有用到定位服务、照相机服务的地方，需要进行前后台的切换测试，检查应用是否正常。

\3) 当定位服务没有开启时，使用定位服务，会友好性弹出是否允许设置定位提示。当确定允许开启定位时，能自动跳转到定位设置中开启定位服务。

\4) 测试定位、照相机服务时，需要采用真机进行测试。

时间测试

客户端可以自行设置手机的时区、时间，因此需要校验该设置对app的影响。

--中国为东8区，所以当手机设置的时间非东8区时，查看需要显示时间的地方，时间是否展示正确，应用功能是否正常。时间一般需要根据服务器时间再转换成客户端对应的时区来展示，这样的用户体验比较好。比如发表一篇微博在服务端记录的是10：00，此时，华盛顿时间为22：00，客户端去浏览时，如果设置的是华盛顿时间,则显示的发表时间即为22:00,当时间设回东8区时间时，再查看则显示为10：00。

PUSH测试

\1) 检查push消息是否按照指定的业务规则发送

\2) 检查不接受推送消息时，检查用户不会再接收到push.

\3) 如果用户设置了免打扰的时间段，检查在免打扰时间段内，用户接收不到PUSH。

在非免打扰时间段，用户能正常收到push。

\4) 当push消息是针对登录用户的时候，需要检查收到的push与用户身份是否相符，没有错误地将其它人的消息推送过来。一般情况下，只对手机上最后一个登录用户进行消息推送。

\5) 测试push时，需要采用真机进行测试。

2、交叉事件测试：又叫事件冲突测试，是指一个功能正在执行过程中，同时另外一个事件或操作对该过程进行干扰测试。如：App在前/后台运行状态时与来电、文件ixaz、音乐收听等关键运用的交互情况测试等。

- 多个App同时运行是否影响正常功能。
- App运行时前/后台切换是否影响正常功能。
- App运行时拨打/接听电话。
- App运行时发送/接收信息。
- App运行时发送/收取邮件。
- App运行时切换网络（2G/3G/WIFI）.
- App运行浏览网页。
- App运行时使用蓝牙传送/接收数据。
- App运行时使用相机、计算器手机自带设备。
- App运行时插拔充电器。

执行干扰的冲突事件不能导致软件应用软件异常、手机死机或者花屏等严重问题，还需要注意各交叉事件的优先级别，检验系统是否能依据各事件的优先级别依次进行处理。不能因执行优先级别高的事件而导致优先级别较低的事件吊死。另外有中英文模式切换的手机要注意中英文模式切换后的功能实现存在的问题。

3、性能测试：评估App的时间和空间特性 ；

- 极限测试：在各种边界压力情况下，如电池、存储、网速等，验证App是否能正确响应。

--内存满时安装App

--运行App时手机断电

--运行App时断掉网络

- 响应能力测试：测试App中的各类操作是否满足用户响应时间要求 。

--App安装、卸载的响应时间

--App各类功能性操作的影响时间

- 压力测试：反复/长期操作下、系统资源是否占用异常。

--App反复进行安装卸载，查看系统资源是否正常

--其他功能反复进行操作，查看系统资源是否正常

- 性能评估：评估典型用户应用场景下，系统资源的使用情况。
- Benchmark测试（基线测试）：与竞争产品的Benchmarking, 产品演变对比测试等。

4、安全测试：

- 软件权限

--扣费风险：包括发送短信、拨打电话、连接网络等

--隐私泄露风险：包括访问手机信息、访问联系人信息等

--对App的输入有效性校验、认证、授权、敏感数据存储、数据加密等方面进行检测

--限制/允许使用手机功能接人互联网

--限制/允许使用手机发送接受信息功能

--限制/允许应用程序来注册自动启动应用程序

--限制或使用本地连接

--限制/允许使用手机拍照或录音

--限制/允许使用手机读取用户数据

-- 限制/允许使用手机写人用户数据

--检测App的用户授权级别、数据泄漏、非法授权访问等

- 安装与卸载安全性

--应用程序应能正确安装到设备驱动程序上

--能够在安装设备驱动程序上找到应用程序的相应图标

--是否包含数字签名信息

--JAD文件和JAR包中包含的所有托管属性及其值必需是正确的

--JAD文件显示的资料内容与应用程序显示的资料内容应一致

--安装路径应能指定

--没有用户的允许, 应用程序不能预先设定自动启动

--卸载是否安全, 其安装进去的文件是否全部卸载

--卸载用户使用过程中产生的文件是否有提示

--其修改的配置信息是否复原

--卸载是否影响其他软件的功能

--卸载应该移除所有的文件

- 数据安全性

--当将密码或其他的敏感数据输人到应用程序时, 其不会被储存在设备中, 同时密码也不会被解码

--输人的密码将不以明文形式进行显示

--密码, 信用卡明细, 或其他的敏感数据将不被储存在它们预输人的位置上

--不同的应用程序的个人身份证或密码长度必需至少在4一8 个数字长度之间

--当应用程序处理信用卡明细, 或其他的敏感数据时, 不以明文形式将数据写到其它单独的文件或者临时文件中。以

--防止应用程序异常终止而又没有侧除它的临时文件, 文件可能遭受人侵者的袭击, 然后读取这些数据信息。

--当将敏感数据输人到应用程序时, 其不会被储存在设备中

--备份应该加密, 恢复数据应考虑恢复过程的异常􀀁通讯中断等, 数据恢复后再使用前应该经过校验

--应用程序应考虑系统或者虚拟机器产生的用户提示信息或安全替告

--应用程序不能忽略系统或者虚拟机器产生的用户提示信息或安全警告, 更不能在安全警告显示前,，利用显示误导信息欺骗用户，应用程序不应该模拟进行安全警告误导用户

--在数据删除之前，应用程序应当通知用户或者应用程序提供一个“取消”命令的操作

--"取消” 命令操作能够按照设计要求实现其功能

--应用程序应当能够处理当不允许应用软件连接到个人信息管理的情况

--当进行读或写用户信息操作时, 应用程序将会向用户发送一个操作错误的提示信息

--在没有用户明确许可的前提下不损坏侧除个人信息管理应用程序中的任何内容Μ

--应用程序读和写数据正确。

--应用程序应当有异常保护。

--如果数据库中重要的数据正要被重写, 应及时告知用户

--能合理地处理出现的错误

--意外情况下应提示用户

- 通讯安全性

--在运行其软件过程中, 如果有来电、SMS、EMS、MMS、蓝牙、红外等通讯或充电时, 是否能暂停程序，优先处理通信, 并在处理完毕后能正常恢复软件, 继续其原来的功能

--当创立连接时, 应用程序能够处理因为网络连接中断, 进而告诉用户连接中断的情况

--应能处理通讯延时或中断

--应用程序将保持工作到通讯超时, 进而发送给用户一个错误信息指示有连接错误

--应能处理网络异常和及时将异常情况通报用户

--应用程序关闭或网络连接不再使用时应及时关闭) 断开

-- HTTP、HTTPS覆盖测试

--App和后台服务一般都是通过HTTP来交互的，验证HTTP环境下是否正常；

--公共免费网络环境中（如：麦当劳、星巴克等）都要输入用户名和密码，通过SSL认证来访问网络，需要对使用HTTP Client的library异常作捕获处理。

- 人机接口安全性

--返回菜单总保持可用

--命令有优先权顺序

--声音的设置不影响应用程序的功能

--应用程序必需利用目标设备适用的全屏尺寸来显示上述内容

--应用程序必需能够处理不可预知的用户操作, 例如错误的操作和同时按下多个键

5、容量测试：即存储空间已满时的测试，包括手机用户可用内存和SIM卡的所有空间被完成使用的测试。此时再对可编辑的模块进行和存储空间有关的任何操作测试，如果软件在极限容量状态下处理不好，有可能导致死机或严重的花屏等问题出现。

6、兼容性测试：也就是不同系统框架，不同品牌、款型、分辨率的手机，不呕吐那个网络，不同容量大小的SIM卡之间的互相兼容测试。

--与本地及主流App是否兼容

--基于开发环境和生产环境的不同，检验在各种网络连接下(WiFi、GSM、GPRS、EDGE、WCDMA、CDMA1x、CDMA2000、HSPDA等)，App的数据和运用是否正确

--与各种设备是否兼容，若有跨系统支持则需要检验是否在各系统下，各种行为是否一致

--不同操作系统的兼容性，是否适配

--不同手机屏幕分辨率的兼容性

--不同手机品牌的兼容性

7、接口测试：服务端一般会提供JSON格式的数据给客户端，所以我们在服务端需要进行接口测试，确保服务端提供的接口并转换的JSON内容正确，对分支、异常流有相应的返回值。此块测试可以采用itest框架进行测试。最方便的是采用httpclient进行接口测试。

进行服务端测试时，需要开发提供一份接口文档。

8、易用性/用户体验测试：易用性这个这里就不说了大家都知道。

用户体验测试：以主观的普通消费者的角度去感知产品或服务的舒适、有用、易用、友好亲切程度。 通过不同个体、独立空间和非经验的统计复用方式去有效评价产品的体验特性提出修改意见提升产品的潜在客户满意度。

- 1）是否有空数据界面设计，引导用户去执行操作。
- 2）是否滥用用户引导。
- 3）是否有不可点击的效果，如：你的按钮此时处于不可用状态，那么一定要灰掉，或者拿掉按钮，否则会给用户误导
- 4）菜单层次是否太深
- 5）交互流程分支是否太多
- 6）相关的选项是否离得很远
- 7）一次是否载入太多的数据
- 8）界面中按钮可点击范围是否适中
- 9）标签页是否跟内容没有从属关系，当切换标签的时候，内容跟着切换
- 10）操作应该有主次从属关系
- 11）是否定义Back的逻辑。涉及软硬件交互时，Back键应具体定义
- 12）是否有横屏模式的设计，应用一般需要支持横屏模式，即自适应设计

9、硬件环境测试：

- 手势操作测试

--手机开锁屏对运行中的App的影响

--切换网络对运行中的App的影响

--运行中的App前后台切换的影响

--多个运行中的App的切换

--App运行时关机

--App运行时重启系统

--App运行时充电

--App运行时kill掉进程再打开

- 网络环境

手机的网络目前主要分为2G、3G、wifi。目前2G的网络相对于比较慢，测试时尤其要注意此块的测试。

--无网络时，执行需要网络的操作，给予友好提示，确保程序不出现crash。

--内网测试时，要注意选择到外网操作时的异常情况处理。

-- 在网络信号不好时，检查功能状态是否正常，确保不因提交数据失败而造成crash。

--在网络信号不好时，检查数据是否会一直处于提交中的状态，有无超时限制。如遇数据交换失败时要给予提示。

--在网络信号不好时，执行操作后，在回调没有完成的情况下，退出本页面或者执行其他操作的情况，有无异常情况。此问题也会经常出现程序crash。

- 服务器宕机或出现404、502等情况下的测试

后台服务牵涉到DNS、空间服务商的情况下会影响其稳定性，如：当出现域名解析故障时，你对后台API的请求很可能就会出现404错误，抛出异常。这时需要对异常进行正确的处理，否则可能会导致程序不能正常工作。

10、安装/卸载测试：验证App是否能正确安装、运行、卸载以及操作过程和操作前后对系统资源的使用情况。

- 安装

--软件在不同操作系统（Palm OS、Symbian、Linux、Android、iOS、Black Berry OS 6.0、Windows Phone 7）下安装是否正常。

--软件安装后的是否能够正常运行，安装后的文件夹及文件是否写到了指定的目录里。

--软件安装各个选项的组合是否符合概要设计说明

--软件安装向导的UI测试

--软件安装过程是否可以取消，点击取消后，写入的文件是否如概要设计说明处理

--软件安装过程中意外情况的处理是否符合需求（如死机，重启，断电）

--安装空间不足时是否有相应提示

--安装后没有生成多余的目录结构和文件

--对于需要通过网络验证之类的安装，在断网情况下尝试一下

--还需要对安装手册进行测试，依照安装手册是否能顺利安装

- 卸载

--直接删除安装文件夹卸载是否有提示信息。

--测试系统直接卸载程序是否有提示信息。

--测试卸载后文件是否全部删除所有的安装文件夹。

--卸载过程中出现的意外情况的测试（如死机、断电、重启）。

--卸载是否支持取消功能，单击取消后软件卸载的情况 。

--系统直接卸载UI测试，是否有卸载状态进度条提示 。

11、升级/更新测试：新版版发布后，配合不同网络环境的自劢更新提示及下载、安装、更新、启劢、运行的验证测试。 

- 1）测试升级后的功能是否与需求说明一样
- 2）测试与升级模块相关的模块的功能是否与需求一致
- 3）升级安装意外情况的测试（如死机、断电、重启）
- 4）升级界面的UI测试
- 5）不同操作系统间的升级测试





# 补充：

## 学习主要内容

| 1    | 移动测试分类及android环境搭建 |
| ---- | ----------------------------- |
| 2    | adb常用命令                   |
| 3    | appium环境搭建及使用          |
| 4    | pytest框架学习                |
| 5    | PO模式                        |
| 6    | 数据驱动                      |
| 7    | Allure报告                    |
| 8    | Jenkins持续集成               |

[参考资料:]()

​		[1. Appium中文开发手册](<https://testerhome.com/wiki/appiumdoccn>)

​		[2. Appium 官方文档](http://appium.io/docs/cn/about-appium/intro/#appium)

​        [3. pytest官网](https://docs.pytest.org/en/latest/)

​		[4. Jenkins中文用户手册](<https://jenkins.io/zh/doc/>)

​		[5. Json官方文档](<http://www.json.org/>)

​	

